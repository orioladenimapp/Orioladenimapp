(window.webpackJsonpvtex_add_to_cart_button_0_31_0=window.webpackJsonpvtex_add_to_cart_button_0_31_0||[]).push([[0],{16:function(t,e,a){"use strict";a.r(e);var n=a(17),i=a.n(n),r=a(19),o=a(4),s=a(0),c=a.n(s),u=a(2),d=a(6),l=a.n(d),m=a(7),v=a.n(m),p=a(8),b=a.n(p),f=a(9),g=a.n(f),O=a(10),k=a(11),T=a.n(k),_=a(12),x=a.n(_),j=a(13),h=a(14),E=a(15),I=function(){var t=Object(s.useState)({}),e=Object(o.a)(t,2),a=e[0],n=e[1],i=Object(s.useState)({}),r=Object(o.a)(i,2),c=r[0],u=r[1];return Object(s.useEffect)((function(){var t;null===(t=function(){var t;return null===(t=window.__RENDER_8_SESSION__)||void 0===t?void 0:t.sessionPromise}())||void 0===t||t.then((function(t){var e,a,i,r=null!==(i=null===(a=null===(e=null==t?void 0:t.response)||void 0===e?void 0:e.namespaces)||void 0===a?void 0:a.public)&&void 0!==i?i:{};0!==Object.keys(r).length&&(n(function(t){var e,a,n,i,r,o;return{utmSource:null!==(a=null===(e=t.utm_source)||void 0===e?void 0:e.value)&&void 0!==a?a:"",utmMedium:null!==(i=null===(n=t.utm_medium)||void 0===n?void 0:n.value)&&void 0!==i?i:"",utmCampaign:null!==(o=null===(r=t.utm_campaign)||void 0===r?void 0:r.value)&&void 0!==o?o:""}}(r)),u(function(t){var e,a,n,i,r,o;return{utmiPage:null!==(a=null===(e=t.utmi_p)||void 0===e?void 0:e.value)&&void 0!==a?a:"",utmiPart:null!==(i=null===(n=t.utmi_pc)||void 0===n?void 0:n.value)&&void 0!==i?i:"",utmiCampaign:null!==(o=null===(r=t.utmi_cp)||void 0===r?void 0:r.value)&&void 0!==o?o:""}}(r)))})).catch((function(){}))}),[]),{utmParams:a,utmiParams:c}};var C=["buttonText","buttonDataContainer","tooltipLabelText"],w=Object(u.defineMessages)({success:{id:"store/add-to-cart.success"},duplicate:{id:"store/add-to-cart.duplicate"},error:{id:"store/add-to-cart.failure"},seeCart:{id:"store/add-to-cart.see-cart"},skuVariations:{id:"store/add-to-cart.select-sku-variations"},schemaTitle:{id:"admin/editor.add-to-cart.title"},schemaTextTitle:{id:"admin/editor.add-to-cart.text.title"},schemaTextDescription:{id:"admin/editor.add-to-cart.text.description"},schemaUnavailableTextTitle:{id:"admin/editor.add-to-cart.text-unavailable.title"},schemaUnavailableTextDescription:{id:"admin/editor.add-to-cart.text-unavailable.description"}}),P={allowedOutdatedData:["paymentData"]},S=function(t){var e,a,n=t.category?t.category.slice(1,-1):"";return{skuId:t.id,ean:t.ean,variant:t.variant,price:t.price,sellingPrice:t.sellingPrice,priceIsInt:!0,name:t.name,quantity:t.quantity,productId:t.productId,productRefId:t.productRefId,brand:t.brand,category:n,detailUrl:t.detailUrl,imageUrl:t.imageUrl,referenceId:null===(a=null===(e=null==t?void 0:t.referenceId)||void 0===e?void 0:e[0])||void 0===a?void 0:a.Value,seller:t.seller,sellerName:t.sellerName}};e.default=function(t){var e=t.text,a=t.isOneClickBuy,n=t.available,d=t.disabled,m=t.skuItems,p=t.showToast,f=t.customToastUrl,k=t.unavailableText,_=t.customOneClickBuyLink,y=t.allSkuVariationsSelected,D=void 0===y||y,N=t.productLink,U=t.onClickBehavior,L=t.multipleAvailableSKUs,R=t.customPixelEventId,B=t.addToCartFeedback,M=t.onClickEventPropagation,V=void 0===M?"disabled":M,F=t.isLoading,q=Object(u.useIntl)(),A=g()(C),J=Object(h.useOrderItems)().addItems,K=x()(),W=Object(O.useRuntime)(),Y=W.rootPath,z=void 0===Y?"":Y,G=W.navigate,H=b.a.useCheckoutURL(),Q=H.url,X=H.major,Z=T()().push,$=Object(j.usePWA)()||{},tt=$.settings,et=void 0===tt?{}:tt,at=$.showInstallPrompt,nt=void 0===at?void 0:at,it=et.promptOnCustomEvent,rt=I(),ot=rt.utmParams,st=rt.utmiParams,ct=Object(s.useState)(!1),ut=Object(o.a)(ct,2),dt=ut[0],lt=ut[1],mt=function(t){return q.formatMessage(t)},vt=Object(E.useShippingOptionState)().shippingOption,pt=Object(s.useRef)({});Object(s.useEffect)((function(){return function(){Object.values(pt.current).forEach(clearTimeout)}}),[]),Object(s.useEffect)((function(){var t=pt.current;dt&&(t.loading=window.setTimeout((function(){return lt(!1)}),function(t){return t?5e3:500}(a)))}),[dt,a]);var bt=function(t){var e=t.success,a=function(t){return mt(t?w.success:w.error)}(e),n=e?{label:mt(w.seeCart),href:f}:void 0;p({message:a,action:n})},ft=function(){var t=Object(r.a)(i.a.mark((function t(){var e,n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(lt(!0),e=Boolean(N.linkText&&N.productId),n="go-to-product-page"===U||"ensure-sku-selection"===U&&L,!e||!n){t.next=6;break}return G({page:"store.product",params:{slug:N.linkText,id:N.productId}}),t.abrupt("return");case 6:if(!("add-to-cart-and-trigger-shipping-modal"===U&&!vt)){t.next=10;break}return Z({id:"item-added-to-cart-shipping-modal",addToCartInfo:{skuItems:m,options:Object.assign({marketingData:Object.assign(Object.assign({},ot),st)},P)}}),t.abrupt("return");case 10:if(r=J(m,Object.assign({marketingData:Object.assign(Object.assign({},ot),st)},P)),o=m.map(S),Z(R&&"customEvent"===B?{id:R,event:"addToCart",items:o}:{event:"addToCart",items:o}),!a){t.next=18;break}return t.next=17,r;case 17:X>0&&(!_||_===Q)?G({to:Q}):window.location.assign("".concat(z).concat(null!=_?_:Q));case 18:"toast"===B&&(pt.current.toast=window.setTimeout((function(){bt({success:!0})}),500)),"addToCart"===it&&nt&&nt();case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),gt=c.a.createElement("div",{className:"".concat(A.buttonDataContainer," flex justify-center")},e?c.a.createElement("span",{className:A.buttonText},e):c.a.createElement(u.FormattedMessage,{id:"store/add-to-cart.add-to-cart"},(function(t){return c.a.createElement("span",{className:A.buttonText},t)}))),Ot=k?c.a.createElement("span",{className:A.buttonText},k):c.a.createElement(u.FormattedMessage,{id:"store/add-to-cart.label-unavailable"},(function(t){return c.a.createElement("span",{className:A.buttonText},t)})),kt=c.a.createElement("span",{className:A.tooltipLabelText},q.formatMessage(w.skuVariations)),Tt=c.a.createElement(l.a,{block:!0,isLoading:dt||F,disabled:d||!n,onClick:function(t){K&&K({type:"SET_BUY_BUTTON_CLICKED",args:{clicked:!0}}),"disabled"===V&&(t.preventDefault(),t.stopPropagation()),D&&ft()}},n?gt:Ot);return D?Tt:c.a.createElement(v.a,{trigger:"click",label:kt},Tt)}}}]);